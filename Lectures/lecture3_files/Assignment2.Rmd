---
title: "Assignment 2"
author: "BIOF 339"
date: "September 26, 2016"
output: html_document
---

1. The `pbc` data set in the package `survival` contains data on patients with primary biliary cirrhosis from the Mayo Clinic between 1974 and 1984. 

    1. Access the data (you have to load the package `survival` first)
    
    ```{r}
    library(survival)
    library(ggplot2)
    data(pbc)
    ```
    
    2. Identify which variables are discrete/categorical and which are continuous
    
    ```{r 1.2}
    str(pbc)
    ```
    3. Create univariate visualizations (histograms/density plots/barplots) for each clinical variable
    
    ```{r fig1, fig.width=5}
    ggplot(subset(pbc, !is.na(ascites)), aes(x = as.factor(ascites)))+geom_bar() # Don't report missing values
    ```
    ```{r }
    ggplot(pbc, aes(x = platelet)) + geom_histogram()
    ```
    4. Create bivariate visualizations (boxplot/violinplot/scatter plots) as appropriate
    
    ```{r}
    ggplot(pbc, aes(x = sex, y = age))+geom_boxplot()
    ggplot(pbc, aes(x = age, y = platelet))+geom_point()
    ```
    5. For the scatter plots, add a line representing the relationship between the variables
    ```{r}
    ggplot(pbc, aes(x = age, y = platelet))+geom_point() + geom_smooth()
    ```
    
    6. Create a facetted plot showing the distribution of patient age by sex
    ```{r}
    ggplot(pbc, aes(x = age))+geom_histogram() + facet_wrap(~sex, nrow=1)
    ```
    
    7. Create a boxplot showing how platelet count is related to stage
    ```{r }
    ggplot(pbc, aes(x = factor(stage), y = platelet))+geom_violin() # x must be a factor
    ```
    8. Create a grouped plot showing how cholesterol and albumin are related, grouped by sex
    
    ```{r }
    ggplot(pbc, aes(x = chol, y = albumin, color=sex))+geom_point()
    ```
    
2. (Extra credit)
    1. Create a plot showing how platelet count is related with stage, facetted by sex
    ```{r}
    ggplot(pbc, aes(x = factor(stage), y = platelet))+geom_boxplot()+facet_wrap(~sex, ncol=1)
    
    ```
    2. Create a plot showing how alk.phos and ast are related, grouped by sex and facetted by stage.
    ```{r }
    ggplot(subset(pbc, !is.na(stage)), aes(x = alk.phos, y = ast, color=sex))+geom_point()+facet_wrap(~stage, nrow=2)
    
    ```
    
